<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Importes Diarios</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" type="image/svg+xml" href="logo.svg">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div id="auth-container" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:999;background:linear-gradient(135deg,%23e3f2fd 0%%,%23bbdefb 100%%);align-items:center;justify-content:center;">
    <div id="auth-box" style="max-width:370px;width:96vw;margin:0 auto;background:#fff;padding:2.2rem 1.5rem 1.7rem 1.5rem;border-radius:18px;box-shadow:0 4px 32px rgba(0,0,0,0.13);text-align:center;">
      <img src="logo.svg" alt="Logo Remisero" style="display:block;margin:0 auto 1.2rem auto;max-width:90px;width:60%;height:auto;">
      <h2 id="auth-title" style="color:#007bff;font-size:2rem;margin-bottom:1.5rem;letter-spacing:1px;">Iniciar sesiÃ³n</h2>
      <form id="login-form" style="display:block;">
        <input type="email" id="login-email" placeholder="Email" required style="width:100%;margin-bottom:1rem;padding:1rem 0.9rem;font-size:1.15rem;border:1.5px solid #bdbdbd;border-radius:8px;outline:none;transition:border 0.2s;">
        <input type="password" id="login-clave" placeholder="Clave" required style="width:100%;margin-bottom:1.4rem;padding:1rem 0.9rem;font-size:1.15rem;border:1.5px solid #bdbdbd;border-radius:8px;outline:none;transition:border 0.2s;">
        <button type="submit" style="width:100%;padding:0.9rem;background:#007bff;color:#fff;border:none;border-radius:8px;font-size:1.15rem;font-weight:bold;box-shadow:0 2px 8px rgba(0,0,0,0.07);transition:background 0.2s;">Ingresar</button>
      </form>
      <form id="registro-form" style="display:none;">
        <input type="text" id="registro-nombre" placeholder="Nombre" required style="width:100%;margin-bottom:1rem;padding:1rem 0.9rem;font-size:1.15rem;border:1.5px solid #bdbdbd;border-radius:8px;outline:none;transition:border 0.2s;">
        <input type="email" id="registro-email" placeholder="Email" required style="width:100%;margin-bottom:1rem;padding:1rem 0.9rem;font-size:1.15rem;border:1.5px solid #bdbdbd;border-radius:8px;outline:none;transition:border 0.2s;">
        <input type="password" id="registro-clave" placeholder="Clave" required style="width:100%;margin-bottom:1.4rem;padding:1rem 0.9rem;font-size:1.15rem;border:1.5px solid #bdbdbd;border-radius:8px;outline:none;transition:border 0.2s;">
        <button type="submit" style="width:100%;padding:0.9rem;background:#43a047;color:#fff;border:none;border-radius:8px;font-size:1.15rem;font-weight:bold;box-shadow:0 2px 8px rgba(0,0,0,0.07);transition:background 0.2s;">Registrarme</button>
      </form>
      <div style="margin-top:1.5rem;">
        <button id="toggle-auth" style="background:none;border:none;color:#007bff;cursor:pointer;font-size:1.08rem;font-weight:bold;">Â¿No tienes cuenta? RegÃ­strate</button>
      </div>
      <div id="auth-msg" style="margin-top:1.3rem;color:#c62828;font-size:1.08rem;font-weight:bold;"></div>
    </div>
  </div>
  <!-- Header fijo con menÃº y tÃ­tulo -->
  <header id="main-header-fixed" style="position:fixed;top:0;left:0;right:0;background:#fff;box-shadow:0 2px 10px rgba(0,0,0,0.1);z-index:4000;padding:0.8rem 1rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #e3eafc;">
    <!-- Logo y tÃ­tulo -->
    <div style="display:flex;align-items:center;gap:1rem;">
      <img src="logo.svg" alt="Logo Remisero" style="max-width:40px;width:40px;height:auto;display:block;">
      <h1 style="margin:0;font-size:1.5rem;font-weight:700;color:#007bff;">Control Choferes</h1>
    </div>
    
    <!-- BotÃ³n menÃº y toggle dark mode -->
    <div style="display:flex;align-items:center;gap:1rem;">
      <section id="modo-dark-toggle" style="display:flex;align-items:center;gap:0.7rem;margin:0;">
        <label for="switch-dark" id="icon-dark-label" style="font-size:1.3rem;cursor:pointer;">ðŸŒ™</label>
        <input type="checkbox" id="switch-dark" style="width:1.8rem;height:1rem;cursor:pointer;">
      </section>
      <button id="menu-toggle" aria-label="Abrir menÃº" style="background:#007bff;color:#fff;border:none;border-radius:6px;padding:0.6rem 0.8rem;font-size:1.2rem;cursor:pointer;transition:all 0.2s ease;">â˜°</button>
    </div>
  </header>
  
  <!-- Sidebar del menÃº -->
  <div id="drawer-sidebar" class="sidebar-oculto" style="display:none;">
    <div style="width:100%;text-align:center;margin-bottom:2.1rem;margin-top:1.5rem;">
      <h2 style="margin:0;color:#007bff;font-size:1.5rem;font-weight:600;">MenÃº</h2>
    </div>
    <section id="consultas">
      <h2>Consultas</h2>
      <div>
        <button id="btn-consulta-dia">Ver Turnos</button>
      </div>
      <div style="margin-top:1rem;">
        <label for="consulta-dia">Consultar por dÃ­a:</label>
        <input type="date" id="consulta-dia">
        <button id="btn-consulta-dia-unica">Consultar</button>
      </div>
      <div style="margin-top:1rem;">
        <label for="consulta-desde">Desde:</label>
        <input type="date" id="consulta-desde">
        <label for="consulta-hasta">Hasta:</label>
        <input type="date" id="consulta-hasta">
        <button id="btn-consulta-rango">Consultar Rango</button>
      </div>
      <div id="resultado-consulta"></div>
    </section>
    <section id="backup-restore" style="margin-bottom:1.5rem;">
      <button id="btn-backup" style="width:100%;margin-bottom:0.5rem;">ðŸ“¥ Descargar Backup</button>
      <label for="input-restore" style="display:block;width:100%;">
        <span style="display:inline-block;width:100%;background:#7ec0ee;color:#222e3a;padding:0.4rem 0;border-radius:4px;text-align:center;cursor:pointer;">ðŸ“¤ Restaurar Backup</span>
        <input type="file" id="input-restore" accept="application/json" style="display:none;">
      </label>
    </section>
    <button id="btn-logout" style="width:100%;margin:2rem 0 3.5rem 0;background:#ff5252;color:#fff;border:none;border-radius:6px;padding:0.7rem 0;font-size:1.1rem;cursor:pointer;z-index:200;">Cerrar sesiÃ³n</button>
  </div>
  <div id="drawer-overlay" class="drawer-overlay-oculto" style="display:none;"></div>
  <!-- Contenedor principal con scroll -->
  <div id="main-scroll-container" style="position:fixed;top:70px;left:0;right:0;bottom:50px;overflow-y:auto;z-index:1000;">
    <main id="main-app">
      <div id="main-header-fijo">
        <div id="estado-turno"></div>
        <div id="fecha-actual"></div>
        <!-- El botÃ³n Iniciar Turno se inserta aquÃ­ por JS -->
        <form id="importe-form">
          <input type="number" id="importe-input" placeholder="Agregar importe" step="0.01" min="0" required>
          <button type="submit">Agregar</button>
        </form>
        <section id="resumen">
          <p>Total: <span id="total">$0</span></p>
          <p>Cantidad: <span id="cantidad">0</span></p>
        </section>
        <ul id="lista-importes"></ul>
      </div>
      <div id="consulta-principal" style="display:none;"></div>
      <div id="tabla-turnos-recientes-container" style="margin-top:2rem;"></div>
      <button id="finalizar-dia">Finalizar Turno</button>
    </main>
  </div>
  <footer id="footer-app">
    Desarrollada por <a href="https://rizzofs.github.io/Mi-Porfolio2/" target="_blank" rel="noopener">Federico Rizzo</a>
  </footer>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.0/jspdf.plugin.autotable.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
